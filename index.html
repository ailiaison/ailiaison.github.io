<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AI Liaison Officer — logistics deal calculator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Font Awesome icons -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
  />

  <!-- App styles -->
  <link rel="stylesheet" href="styless.css" />
</head>
<body>
  <div class="app">
    <header>
      <h1>AI Liaison Officer</h1>

      <!-- API block in header -->
      <div class="api-header-block">
        <fieldset>
          <legend>API key</legend>
          <label for="aiApiKey"><!-- OpenAI-compatible API key --></label>
          <input
            id="aiApiKey"
            type="password"
            placeholder="sk-..."
            autocomplete="off"
          />
        </fieldset>
      </div>
    </header>

    <!-- 8 market tiles -->
    <section class="market-grid" id="marketGrid">
      <div class="market-card">
        <div class="market-label">
          <i class="fa-solid fa-oil-well"></i><span>WTI</span>
        </div>
        <div class="market-price" data-market-key="WTI">
          <span class="currency">$</span><span class="value">60.73</span><span class="unit">/bbl</span>
        </div>
      </div>

      <div class="market-card">
        <div class="market-label">
          <i class="fas fa-gas-pump icon"></i><span>BRENT</span>
        </div>
        <div class="market-price" data-market-key="BRENT">
          <span class="currency">$</span><span class="value">63.55</span><span class="unit">/bbl</span>
        </div>
      </div>

      <div class="market-card">
        <div class="market-label">
          <i class="fa-solid fa-wheat-awn"></i><span>WHEAT</span>
        </div>
        <div class="market-price" data-market-key="WHEAT">
          <span class="currency">$</span><span class="value">232.00</span><span class="unit">/t</span>
        </div>
      </div>

      <div class="market-card">
        <div class="market-label">
          <i class="fa-solid fa-seedling"></i><span>FERTILIZERS</span>
        </div>
        <div class="market-price" data-market-key="FERT">
          <span class="currency">$</span><span class="value">519.51</span><span class="unit">/t</span>
        </div>
      </div>

      <div class="market-card">
        <div class="market-label">
          <i class="fa-solid fa-magnet"></i><span>NEODYMIUM</span>
        </div>
        <div class="market-price" data-market-key="REE_ND">
          <span class="currency">$</span><span class="value">75.00</span>
          <span class="unit">/kg<span class="suffix">Nd₂O₃</span></span>
        </div>
      </div>

      <div class="market-card">
        <div class="market-label">
          <i class="fa-solid fa-atom"></i><span>DYSPROSIUM</span>
        </div>
        <div class="market-price" data-market-key="REE_DY">
          <span class="currency">$</span><span class="value">350.00</span>
          <span class="unit">/kg<span class="suffix">Dy₂O₃</span></span>
        </div>
      </div>

      <div class="market-card">
        <div class="market-label">
          <i class="fa-solid fa-circle-nodes"></i><span>TERBIUM</span>
        </div>
        <div class="market-price" data-market-key="REE_TB">
          <span class="currency">$</span><span class="value">1500.00</span>
          <span class="unit">/kg<span class="suffix">Tb₄O₇</span></span>
        </div>
      </div>

      <div class="market-card">
        <div class="market-label">
          <i class="fa-solid fa-earth-asia"></i><span>REE INDEX</span>
        </div>
        <div class="market-price" data-market-key="REE_IDX">
          <span class="currency">$</span><span class="value">120.00</span>
          <span class="unit">/kg<span class="suffix">basket</span></span>
        </div>
      </div>
    </section>

    <main>
      <!-- Parameters: collapsible -->
      <section id="paramsCard" class="column card collapsible collapsed">
        <h2>Parameters</h2>
        <div class="card-body">
          <div class="hint">
            Fill in basic deal parameters and click “Run full calculation”.
          </div>
          <form id="routeForm">
            <fieldset>
              <legend>Deal</legend>

              <label for="cargoType">Cargo type</label>
              <input
                id="cargoType"
                type="text"
                placeholder="e.g. crude oil, LNG, coal, wheat"
              />

              <div class="row">
                <div>
                  <label for="cargoVolume">Volume (tonnes)</label>
                  <input
                    id="cargoVolume"
                    type="number"
                    step="0.01"
                    placeholder="e.g. 50000"
                  />
                </div>
              </div>

              <label for="origin">From (port / region)</label>
              <input
                id="origin"
                type="text"
                placeholder="e.g. Novorossiysk, Russia"
              />

              <label for="destination">To (port / region)</label>
              <input
                id="destination"
                type="text"
                placeholder="e.g. Houston, USA / Lagos, Nigeria"
              />
            </fieldset>

            <button type="submit">Run full calculation</button>
          </form>
        </div>
      </section>

      <!-- Result: collapsible -->
      <section id="resultCard" class="column card collapsible collapsed">
        <h2>Result</h2>
        <div class="card-body">
          <div id="status"></div>
          <div id="loader" class="loader">
            <div class="spinner"></div>
            <span>Calculating route, costs and risks...</span>
          </div>

          <div id="summary" class="block"></div>
          <div id="dealMetrics" class="block"></div>

          <!-- full text report -->
          <div id="reportFull" class="block"></div>

          <!-- financial strategy block -->
          <div id="finance" class="block"></div>

          <div id="costs" class="block"></div>
          <div id="legs" class="block"></div>
          <div id="risks" class="block"></div>

          <div id="audioBlock" class="block">
            <h3>Audio briefing</h3>
            <p>Generate a voice-over description of the strategy to send to partners.</p>

            <label for="ttsLang"><!-- Voice-over language --></label>
            <select id="ttsLang">
              <option value="en" selected>English</option>
              <option value="ru">Russian</option>
              <option value="zh">Chinese (Mandarin)</option>
            </select>

            <button id="ttsBtn" type="button" disabled>
              Generate audio briefing
            </button>

            <div class="tts-controls">
              <button id="ttsPlayPause" type="button" disabled>
                <i class="fa-solid fa-play"></i>
              </button>
              <button id="ttsStop" type="button" disabled>
                <i class="fa-solid fa-stop"></i>
              </button>
            </div>

            <!-- Wavesurfer container -->
            <div id="ttsWaveform" class="tts-waveform"></div>

            <!-- hidden <audio> for download -->
            <audio id="ttsAudio" style="display:none;"></audio>
            <a
             id="ttsDownload"
             href="#"
             download
             class="tts-download-btn"
             style="display:none;"
            >
          <i class="fa-solid fa-download"></i>
          <span>Download audio (MP3)</span>
          </a>

          </div>

          <div class="block">
            <h3>Raw JSON</h3>
            <pre id="rawJson">— no data yet —</pre>
          </div>
        </div>
      </section>
    </main>

    <div class="sig"></div>
    <script src="signalDeck.js"></script>
    
    <footer>

      
      
   <div style="display:none;">
   <img src="https://ailiaison.github.io/emtech.png" style="width:12%;border-radius:8px;"/> 
   <img src="https://ailiaison.github.io/cargoX.jpg" style="width:10%;border-radius:8px;"/> 
   <img src="https://ailiaison.github.io/emtech.png" style="width:12%;border-radius:8px;"/>
   <img src="https://ailiaison.github.io/cargoX.jpg" style="width:10%;border-radius:8px;"/>
   </div>
      
      <br>
      
      Prototype. Real prices, risks and legal constraints must be checked with live analysts, brokers and banks.
    </footer>
  </div>

  <!-- Wavesurfer for audio visualisation -->
  <script src="https://unpkg.com/wavesurfer.js@7"></script>

  <!-- Finance strategies & external offers -->
  <script src="financeModule.js"></script>

  <!-- Main app logic -->
  <script src="appp.js"></script>
  
</body>
</html>
